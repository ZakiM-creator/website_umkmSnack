<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daftar Webinar - SNACK KILOAN MAS ZAKI</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #2ecc71;">
            <div class="container-fluid">
                <a class="navbar-brand fw-bold" href="index.html">SNACK KLETIK-KLETIK MAS ZAKI</a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
                    aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav ms-auto">
                        <a class="nav-link fw-bold" href="index.html">Beranda</a>
                        <a class="nav-link fw-bold" href="tentang.html">Tentang Kami</a>
                        <a class="nav-link fw-bold" href="produk.html">Produk</a>
                        <a class="nav-link fw-bold" href="galeri.html">Galeri</a>
                        <a class="nav-link fw-bold" href="kontak.html">Kontak</a>
                        <a class="nav-link fw-bold active" aria-current="page" href="seminar.html">Webinar</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <h2>Form Pendaftaran Webinar</h2>
        <p style="text-align: center;">Tema: Strategi Digital Marketing Snack Kiloan</p>
        <hr>

        <form id="formWebinar" novalidate>
            <!-- Nama Lengkap -->
            <div class="form-group">
                <label for="nama">Nama Lengkap <span style="color:red">*</span></label>
                <input type="text" id="nama" placeholder="Masukkan nama lengkap Anda">
                <div class="error-msg" id="err-nama"></div>
            </div>

            <!-- Email -->
            <div class="form-group">
                <label for="email">Email <span style="color:red">*</span></label>
                <input type="email" id="email" placeholder="email@gmail.com">
                <div class="error-msg" id="err-email"></div>
            </div>

            <!-- No HP -->
            <div class="form-group">
                <label for="noHP">Nomor HP / WhatsApp <span style="color:red">*</span></label>
                <input type="text" id="noHP" placeholder="08xxxxxxxxxx">
                <div class="error-msg" id="err-noHP"></div>
            </div>

            <!-- Pilihan Topik -->
            <div class="form-group">
                <label for="topik">Pilihan Topik Webinar <span style="color:red">*</span></label>
                <select id="topik">
                    <option value="">-- Pilih Topik --</option>
                    <option value="branding">Branding Produk UMKM</option>
                    <option value="sales">Teknik Closing di WhatsApp</option>
                    <option value="ads">Dasar Facebook Ads</option>
                </select>
                <div class="error-msg" id="err-topik"></div>
            </div>

            <!-- Checkbox Syarat -->
            <div class="form-group checkbox-group">
                <input type="checkbox" id="syarat">
                <label for="syarat" style="font-weight: normal;">
                    Saya menyetujui syarat & ketentuan yang berlaku. <span style="color:red">*</span>
                </label>
            </div>
            <div class="error-msg" id="err-syarat" style="display: block; margin-top: -10px; margin-bottom: 15px;">
            </div>

            <button type="submit">Daftar Sekarang</button>
        </form>
    </div>

    <script>
        // 1. Ambil elemen-elemen dari HTML agar bisa dikontrol
        const form = document.getElementById('formWebinar');
        const namaInput = document.getElementById('nama');
        const emailInput = document.getElementById('email');
        const hpInput = document.getElementById('noHP');
        const topikInput = document.getElementById('topik');
        const syaratInput = document.getElementById('syarat');

        // Fungsi pembantu untuk menampilkan error
        function showError(inputElement, message, errorId) {
            const errorDiv = document.getElementById(errorId);
            inputElement.classList.add('invalid'); // Tambah kotak merah
            inputElement.classList.remove('valid');
            errorDiv.textContent = message; // Isi pesan error
            errorDiv.style.display = 'block'; // Munculkan pesan
            return false; // Kembalikan false menandakan validasi gagal
        }

        // Fungsi pembantu untuk menghapus error (jika input sudah benar)
        function clearError(inputElement, errorId) {
            const errorDiv = document.getElementById(errorId);
            inputElement.classList.remove('invalid');
            inputElement.classList.add('valid'); // Tambah kotak hijau
            errorDiv.style.display = 'none';
            return true; // Kembalikan true menandakan validasi sukses
        }

        // A. Validasi Nama (Minimal 3 Karakter)
        function validasiNama() {
            const nilai = namaInput.value.trim(); // trim() menghapus spasi depan/belakang
            if (nilai === "") {
                return showError(namaInput, "Nama lengkap wajib diisi.", "err-nama");
            } else if (nilai.length < 3) {
                return showError(namaInput, "Nama terlalu pendek (min. 3 karakter).", "err-nama");
            } else {
                return clearError(namaInput, "err-nama");
            }
        }

        // B. Validasi Email (Format benar & Bukan Yahoo)
        function validasiEmail() {
            const nilai = emailInput.value.trim().toLowerCase();
            // Regex sederhana untuk cek format email
            const formatEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (nilai === "") {
                return showError(emailInput, "Email wajib diisi.", "err-email");
            } else if (!formatEmail.test(nilai)) {
                return showError(emailInput, "Format email tidak valid.", "err-email");
            } else if (nilai.endsWith("@yahoo.com") || nilai.endsWith("@yahoo.co.id")) {
                return showError(emailInput, "Maaf, domain @yahoo.com tidak didukung. Gunakan Gmail atau lainnya.", "err-email");
            } else {
                return clearError(emailInput, "err-email");
            }
        }

        // C. Validasi No HP (Hanya Angka)
        function validasiHP() {
            const nilai = hpInput.value.trim();
            // Regex hanya angka
            const angkaSaja = /^[0-9]+$/;

            if (nilai === "") {
                return showError(hpInput, "Nomor HP wajib diisi.", "err-noHP");
            } else if (!angkaSaja.test(nilai)) {
                return showError(hpInput, "Nomor HP hanya boleh berisi angka.", "err-noHP");
            } else if (nilai.length < 10 || nilai.length > 14) {
                return showError(hpInput, "Panjang nomor HP tidak wajar.", "err-noHP");
            } else {
                return clearError(hpInput, "err-noHP");
            }
        }

        // D. Validasi Topik (Wajib Pilih)
        function validasiTopik() {
            if (topikInput.value === "") {
                return showError(topikInput, "Silakan pilih topik webinar.", "err-topik");
            } else {
                return clearError(topikInput, "err-topik");
            }
        }

        // E. Validasi Syarat (Wajib Centang)
        function validasiSyarat() {
            // Khusus checkbox tidak pakai class invalid di inputnya, tapi di teks error
            const errorDiv = document.getElementById("err-syarat");
            if (!syaratInput.checked) {
                errorDiv.textContent = "Anda wajib menyetujui syarat & ketentuan.";
                errorDiv.style.display = 'block';
                return false;
            } else {
                errorDiv.style.display = 'none';
                return true;
            }
        }

        // --- EVENT LISTENERS (REAL-TIME) ---

        namaInput.addEventListener('input', validasiNama); // Cek saat mengetik
        namaInput.addEventListener('blur', validasiNama);  // Cek saat pindah kolom

        emailInput.addEventListener('input', validasiEmail);

        hpInput.addEventListener('input', function () {
            // Fitur tambahan: Mencegah user mengetik huruf di kolom HP
            this.value = this.value.replace(/[^0-9]/g, '');
            validasiHP();
        });

        topikInput.addEventListener('change', validasiTopik); // Cek saat pilihan dropdown berubah
        syaratInput.addEventListener('change', validasiSyarat); // Cek saat dicentang/hapus

        // --- VALIDASI SAAT SUBMIT ---
        form.addEventListener('submit', function (e) {
            // Mencegah form terkirim ke server dulu
            e.preventDefault();

            // Jalankan semua validasi sekaligus
            const isNamaValid = validasiNama();
            const isEmailValid = validasiEmail();
            const isHPValid = validasiHP();
            const isTopikValid = validasiTopik();
            const isSyaratValid = validasiSyarat();

            // Cek apakah SEMUA valid
            if (isNamaValid && isEmailValid && isHPValid && isTopikValid && isSyaratValid) {
                // Jika sukses
                alert("Pendaftaran Berhasil! Data siap dikirim.");
                form.reset(); // Kosongkan form

                // Hapus style hijau (valid) setelah reset
                const inputs = document.querySelectorAll('.valid');
                inputs.forEach(input => input.classList.remove('valid'));
            } else {
                // Jika gagal
                alert("Mohon periksa kembali isian Anda.");
            }
        });

    </script>
    <footer>
        <p>&copy; 2025 Snack Kiloan Kletik-Kletik. Semua Hak Cipta Dilindungi Undang-undang.</p>
    </footer>
    <script src="script.js"></script>
</body>

</html>